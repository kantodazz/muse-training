{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "message": {
      "type": "object",
      "properties": {
        "messageHeader": {
          "type": "object",
          "properties": {
            "sender": {
              "type": "string"
            },
            "receiver": {
              "type": "string"
            },
            "msgId": {
              "type": "string"
            },
            "messageType": {
              "type": "string"
            },
            "paymentType": {
              "type": "string"
            }
          },
          "required": [
            "sender",
            "receiver",
            "msgId",
            "messageType",
            "paymentType"
          ]
        },
        "paymentVoucher": {
          "type": "object",
          "properties": {
            "FacilityCode": {
              "type": "string"
            },
            "FacilityName": {
              "type": "string"
            },
            "Narration": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200
            },
            "ControlNumber": {
              "type": "string"
            },
            "PayeeCode": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z]{1,30}$"
            },
            "PayeeName": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z.,/\\- ]{1,150}$"
            },
            "Payeebankaccount": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z]{6,35}$"
            },
            "Payeebankname": {
              "type": "string"
            },
            "Payeeaccountname": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z.,/\\- ]{1,150}$"
            },
            "Payeeaddress": {
              "type": "string"
            },
            "Paymentchannel": {
              "type": "string",
              "enum": [ "Bank Account", "Mobile Money", "Control No", "Till No" ]
            },
            "Payeebic": {
              "type": "string",
              "pattern": "^[A-Z]{4,4}TZT[ZX0]$"
            },
            "Payerbankaccount": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z]{6,35}$"
            },
            "Paymentdesc": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z/\\.\\, ]{1,200}$"
            },
            "Amount": {
              "type": "number",
              "minimum": 0.01,
              "maximum": 999999999999999.99,
              "pattern": "^[0-9]{0,15}([\\.]([0-9]{0,2})){0,1}$"
            },
            "Currency": {
              "type": "string",
              "pattern": "^[A-Z]{3}$"
            },
            "ApplyDate": {
              "type": "string"
            },
            "PayStationId": {
              "type": "integer"
            },
            "UnappliedAccount": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z]{6,35}$"
            },
            "ReferenceNo": {
              "type": "string",
              "pattern": "^[0-9a-zA-Z]{1,16}$"
            },
            "SubBudgetClass": {
              "type": "string"
            },
            "IsExternal": {
              "type": "boolean"
            }
          },
          "required": [
            "FacilityCode",
            "FacilityName",
            "Narration",
            "ControlNumber",
            "PayeeCode",
            "PayeeName",
            "Payeebankaccount",
            "Payeebankname",
            "Payeeaccountname",
            "Payeeaddress",
            "Paymentchannel",
            "Payeebic",
            "Payerbankaccount",
            "Paymentdesc",
            "Amount",
            "Currency",
            "ApplyDate",
            "PayStationId",
            "UnappliedAccount",
            "ReferenceNo",
            "SubBudgetClass",
            "IsExternal"
          ]
        },
        "voucherDetails": {
          "type": "array",
          "items": [
            {
              "type": "object",
              "properties": {
                "DrGlAccount": {
                  "type": "string"
                },
                "Amount": {
                  "type": "number",
                  "minimum": 0.01,
                  "maximum": 999999999999999.99,
                  "pattern": "^[0-9]{0,15}([\\.]([0-9]{0,2})){0,1}$"
                }
              },
              "required": [
                "DrGlAccount",
                "Amount"
              ]
            }
          ]
        }
      },
      "required": [
        "messageHeader",
        "paymentVoucher",
        "voucherDetails"
      ]
    },
    "digitalSignature": {
      "type": "string"
    }
  },
  "required": [
    "message",
    "digitalSignature"
  ]
}