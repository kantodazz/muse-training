@model IEnumerable<IFMIS.Areas.PAYROLLS.Models.DeductionReportSubTreasury_vw33>

<style type="text/css">
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Gill Sans','lucida grande', helvetica, arial, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        border-spacing: 0;
        margin: 0px;
    }

    td, th {
        border: 1px solid;
        padding: 8px;
    }

    .alinearDerecha {
        text-align: right;
    }

    .negrita {
        font-weight: bold;
    }

    thead {
        display: table-row-group;
    }

    tr {
        page-break-inside: avoid;
    }
</style>

<div class="panel panel-default">

    <div class="panel-heading font-family:'Gill Sans','lucida grande', helvetica, arial, sans-serif;" style="text-align: center; padding-top:1px; padding-bottom:1px;margin-top:auto">
        <div class="" style="text-align: center ">
            <img src="@Server.MapPath("~/Media/Images/log.png")" />
        </div>

        <div class="panel-title">MINISTRY OF FINANCE AND PLANNING</div>
        <div class="panel-title">STATUTORY DEDUCTIONS GROSS BALANCE REPORT</div>
        <div class="panel-title"> @ViewBag.CurrentMonth</div>
    </div>
    <br />

    <table>
        <tbody>
            @{
                int i = 0;
                string category = "-1";

                Decimal GROSS = 0, TRA = 0, PSAF = 0, NHIF = 0,
                    PSSSF = 0, ZSSF = 0, TUGHE = 0,
                    TALGWU = 0, CWT = 0;

                Decimal GGROSS = 0, GTRA = 0, GPSAF = 0, GNHIF = 0,
                    GPSSSF = 0, GZSSF = 0, GTUGHE = 0,
                    GTALGWU = 0, GCWT = 0;

            }
            @foreach (var item in Model)
            {
                i++;

                if (category != item.MAIN_VOTE)
                {
                    if (category != "-1")
                    {
                        <tr style="font-weight: bolder">
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>Sub Total</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", GROSS)</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TRA)</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", PSAF) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", NHIF) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", PSSSF) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", ZSSF) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TUGHE) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TALGWU) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", CWT) </td>
                        </tr>
                        TRA = 0;
                        PSAF = 0;
                        NHIF = 0;
                        PSSSF = 0;
                        ZSSF = 0;
                        TUGHE = 0;
                        TALGWU = 0;
                        CWT = 0;
                        GROSS = 0;
                        i = 1;
                    }

                    <tr>
                        <td colspan="12" style="background:#395870; color:#ffffff">
                            <strong>
                                @Html.DisplayFor(modelItem => item.MAIN_VOTE)-@item.MAIN_VOTE_NAME - @item.ACC_CATEGORY
                            </strong>
                        </td>
                    </tr>

                    <tr style="background:#e0dacf; color:#000000">
                        <td>#</td>
                        <td>Vote Code</td>
                        <td>Vote Name</td>
                        <td style="text-align: right" width="5">Gross Amount</td>
                        <td style="text-align: right" width="3">PAYE</td>
                        <td style="text-align: right" width="5">PSAF</td>
                        <td style="text-align: right" width="5">NHIF</td>
                        <td style="text-align: right" width="5">PSSSF</td>
                        <td style="text-align: right" width="5">ZSSF</td>
                        <td style="text-align: right" width="5">TUGHE</td>
                        <td style="text-align: right" width="5">TALGWU</td>
                        <td style="text-align: right" width="5">CWT</td>
                    </tr>

                    category = item.MAIN_VOTE;
                }


                TRA += Decimal.Parse(item.TRA.ToString());
                PSAF += Decimal.Parse(item.PSAF.ToString());
                NHIF += Decimal.Parse(item.NHIF.ToString());
                PSSSF += Decimal.Parse(item.PSSSF.ToString());
                ZSSF += Decimal.Parse(item.ZSSF.ToString());
                TUGHE += Decimal.Parse(item.TUGHE.ToString());
                TALGWU += Decimal.Parse(item.TALGWU.ToString());
                CWT += Decimal.Parse(item.CWT.ToString());
                GROSS += Decimal.Parse(item.GROSS_AMOUNT.ToString());

                GTRA += Decimal.Parse(item.TRA.ToString());
                GPSAF += Decimal.Parse(item.PSAF.ToString());
                GNHIF += Decimal.Parse(item.NHIF.ToString());
                GPSSSF += Decimal.Parse(item.PSSSF.ToString());
                GZSSF += Decimal.Parse(item.ZSSF.ToString());
                GTUGHE += Decimal.Parse(item.TUGHE.ToString());
                GTALGWU += Decimal.Parse(item.TALGWU.ToString());
                GCWT += Decimal.Parse(item.CWT.ToString());
                GGROSS += Decimal.Parse(item.GROSS_AMOUNT.ToString());

                <tr>
                    <td>@i</td>

                    <td>
                        @Html.DisplayFor(modelItem => item.VOTE)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.VOTE_NAME)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.GROSS_AMOUNT)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TRA)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.PSAF)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.NHIF)

                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.PSSSF)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.ZSSF)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TUGHE)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TALGWU)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.CWT)
                    </td>
                </tr>
            }
            <tr style="font-weight: bolder">
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>Sub Total</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GROSS)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TRA)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", PSAF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", NHIF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", PSSSF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", ZSSF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TUGHE) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TALGWU) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", CWT) </td>
            </tr>
        </tbody>
        <tfoot>
            <tr style=" background: #395870; color:#fff">
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>Grand Total</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GGROSS)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTRA)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GPSAF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GNHIF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GPSSSF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GZSSF) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTUGHE) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTALGWU) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GCWT) </td>
            </tr>
        </tfoot>
    </table>
</div>


