@model IEnumerable<IFMIS.Areas.PAYROLLS.Models.DeductionReportSubTreasury_vw33>

<style type="text/css">
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Gill Sans','lucida grande', helvetica, arial, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        border-spacing: 0;
        margin: 0px;
    }

    td, th {
        border: 1px solid;
        padding: 8px;
    }

    .alinearDerecha {
        text-align: right;
    }

    .negrita {
        font-weight: bold;
    }

    thead {
        display: table-row-group;
    }

    tr {
        page-break-inside: avoid;
    }
</style>

<div class="panel panel-default">

    <div class="panel-heading font-family:'Gill Sans','lucida grande', helvetica, arial, sans-serif;" style="text-align: center; padding-top:1px; padding-bottom:1px;margin-top:auto">
        <div class="" style="text-align: center ">
            <img src="@Server.MapPath("~/Media/Images/log.png")" />
        </div>

        <div class="panel-title">MINISTRY OF FINANCE AND PLANNING</div>
        <div class="panel-title">COUNCIL STATUTORY DEDUCTIONS DETAILS REPORT</div>
        <div class="panel-title"> @ViewBag.Currentmonth</div>
    </div>

    <br />
    <table>
        <thead></thead>
        <tbody>
            @{
                int y = 0;
                string category1 = "-1";

                Decimal DTotal1 = 0, GROSS1 = 0, TRA1 = 0, PSAF1 = 0,
                NHIF1 = 0, PSSSF1 = 0,
                ZSSF1 = 0, TUGHE1 = 0, TALGWU1 = 0, CWT1 = 0, UNPAID1 = 0, TOTAL1 = 0;
                Decimal GDTotal1 = 0, GGROSS1 = 0, GTRA1 = 0, GPSAF1 = 0, GNHIF1 = 0, GPSSSF1 = 0,
                GZSSF1 = 0, GTUGHE1 = 0,
                GTALGWU1 = 0, GCWT1 = 0, GUNPAID1 = 0, GTOTAL1 = 0;
            }

            @foreach (var item in Model)
            {
                y++;

                if (category1 != item.MAIN_VOTE)
                {
                    if (category1 != "-1")
                    {
                        <tr style="font-weight: bolder">
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>Sub Total</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", GROSS1)</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TRA1)</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", PSAF1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", NHIF1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", PSSSF1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", ZSSF1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TUGHE1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TALGWU1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", CWT1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", UNPAID1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", TOTAL1) </td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", DTotal1) </td>

                        </tr>
                        TRA1 = 0;
                        PSAF1 = 0;
                        NHIF1 = 0;
                        PSSSF1 = 0;
                        ZSSF1 = 0;
                        TUGHE1 = 0;
                        TALGWU1 = 0;
                        CWT1 = 0;
                        UNPAID1 = 0;
                        TOTAL1 = 0;
                        GROSS1 = 0;
                        DTotal1 = 0;

                        y = 1;
                    }

                    <tr>
                        <td colspan="15" style="background:#395870; color:#ffffff">
                            <strong>
                                @item.MAIN_VOTE -@item.MAIN_VOTE_NAME - @item.ACC_CATEGORY
                            </strong>
                        </td>
                    </tr>

                    <tr style="background:#e0dacf; color:#000000">
                        <td>#</td>
                        <td>Vote Code</td>
                        <td>Vote Name</td>
                        <td style="text-align: right" width="5">Gross Amount</td>
                        <td style="text-align: right" width="3">PAYE</td>
                        <td style="text-align: right" width="5">PSAF</td>
                        <td style="text-align: right" width="5">NHIF</td>
                        <td style="text-align: right" width="5">PSSSF</td>
                        <td style="text-align: right" width="5">ZSSF</td>
                        <td style="text-align: right" width="5">TUGHE</td>
                        <td style="text-align: right" width="5">TALGWU</td>
                        <td style="text-align: right" width="5">CWT</td>
                        <td style="text-align: right" width="5">UNPAID</td>
                        <td style="text-align: right" width="5">TOTAL</td>
                        <td style="text-align: right" width="5">BALANCE</td>
                    </tr>

                    category1 = item.MAIN_VOTE;
                }


                TRA1 += Decimal.Parse(item.TRA.ToString());
                PSAF1 += Decimal.Parse(item.PSAF.ToString());
                NHIF1 += Decimal.Parse(item.NHIF.ToString());
                PSSSF1 += Decimal.Parse(item.PSPF.ToString());
                ZSSF1 += Decimal.Parse(item.ZSSF.ToString());
                TUGHE1 += Decimal.Parse(item.TUGHE.ToString());
                TALGWU1 += Decimal.Parse(item.TALGWU.ToString());
                CWT1 += Decimal.Parse(item.CWT.ToString());
                UNPAID1 += Decimal.Parse(item.UNPAID.ToString());
                GROSS1 += Decimal.Parse(item.GROSS_AMOUNT.ToString());
                TOTAL1 += Decimal.Parse(item.TOTAL.ToString());
                DTotal1 += Decimal.Parse(item.DIFF.ToString());

                GTRA1 += Decimal.Parse(item.TRA.ToString());
                GPSAF1 += Decimal.Parse(item.PSAF.ToString());
                GNHIF1 += Decimal.Parse(item.NHIF.ToString());
                GPSSSF1 += Decimal.Parse(item.PSSSF.ToString());
                GZSSF1 += Decimal.Parse(item.ZSSF.ToString());
                GTUGHE1 += Decimal.Parse(item.TUGHE.ToString());
                GTALGWU1 += Decimal.Parse(item.TALGWU.ToString());
                GCWT1 += Decimal.Parse(item.CWT.ToString());
                GUNPAID1 += Decimal.Parse(item.UNPAID.ToString());
                GGROSS1 += Decimal.Parse(item.GROSS_AMOUNT.ToString());
                GTOTAL1 += Decimal.Parse(item.TOTAL.ToString());
                GDTotal1 += Decimal.Parse(item.DIFF.ToString());

                <tr>
                    <td>@y</td>
                    <td>
                        @item.VOTE
                    </td>
                    <td>
                        @item.VOTE_NAME
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.GROSS_AMOUNT)

                    </td>
                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TRA)

                    </td>
                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.PSAF)

                    </td>
                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.NHIF)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.PSSSF)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.ZSSF)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TUGHE)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TALGWU)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.CWT)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.UNPAID)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.TOTAL)
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.DIFF)
                    </td>
                </tr>
            }
            <tr style="font-weight: bolder">
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>Sub Total</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GROSS1)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TRA1)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", PSAF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", NHIF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", PSSSF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", ZSSF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TUGHE1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TALGWU1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", CWT1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", UNPAID1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", TOTAL1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", DTotal1) </td>
            </tr>

        </tbody>
        <tfoot>
            <tr style="background: #395870; color:#fff">
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>Grand Total</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GGROSS1)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTRA1)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GPSAF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GNHIF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GPSSSF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GZSSF1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTUGHE1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTALGWU1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GCWT1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GUNPAID1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GTOTAL1) </td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", GDTotal1) </td>
            </tr>
        </tfoot>
    </table>
</div>


