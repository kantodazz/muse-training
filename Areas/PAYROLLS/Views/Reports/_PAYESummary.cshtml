@model IEnumerable<IFMIS.Areas.PAYROLLS.Models.DeductionSummarySubTreasuryByVote>
 
<style type="text/css">
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Gill Sans','lucida grande', helvetica, arial, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        border-spacing: 0;
        margin: 0px;
    }

    td, th {
        border: 1px solid;
        padding: 8px;
    }

    .alinearDerecha {
        text-align: right;
    }

    .negrita {
        font-weight: bold;
    }

    thead {
        display: table-row-group;
    }

    tr {
        page-break-inside: avoid;
    }
</style>

<div class="panel panel-defaul font-family:'Gill Sans','lucida grande', helvetica, arial, sans-serif;" style="text-align: center; padding-top:1px; padding-bottom:1px;margin-top:auto">

    <div class="panel-heading font-family:'Gill Sans','lucida grande', helvetica, arial, sans-serif;" style="text-align: center; padding-top:1px; padding-bottom:1px;margin-top:auto">
        <div class="" style="text-align: center ">
            <img src="@Server.MapPath("~/Media/Images/log.png")" />
        </div>

        <div class="panel-title">MINISTRY OF FINANCE AND PLANNING</div>
        <div class="panel-title">GOVERNMENT PAY AS YOU EARN (PAYE) DEDUCTIONS SUMMARY BY VOTES</div>
        <div class="panel-title"> @ViewBag.Currentmonth</div>
    </div>

    <br />
    <table class="table table-bordered table-condensed table-striped" style="border-bottom: 1px solid black; width: 100%">

        <tbody>
            @{
                int i = 0;
                string category = "-1";

                Decimal SUBTOTAL1 = 0;
                Decimal GRANDTOTAL1 = 0;
                int SUBEMPTOTAL1 = 0, GRANDEMPTOTAL1 = 0;
            }

            @foreach (var item in Model)
            {
                i++;

                if (category != item.MAIN_VOTE)
                {
                    if (category != "-1")
                    {
                        <tr style="background-color:#F5F5F5">
                            <td colspan="3">Sub Total</td>
                            <td style="text-align: right">@String.Format("{0:#,0}", SUBEMPTOTAL1)</td>
                            <td style="text-align: right">@String.Format("{0:#,0.00}", SUBTOTAL1)</td>
                        </tr>

                        SUBTOTAL1 = 0;

                        SUBEMPTOTAL1 = 0;

                        i = 1;
                    }

                    <tr>
                        <td colspan="5" style="background-color:#F5F5F5">
                            <strong>
                                @item.MAIN_VOTE -@item.MAIN_VOTE_NAME
                            </strong>
                        </td>
                    </tr>

                    <tr style="background-color:#F5F5F5">
                        <td>#</td>
                        <td>Vote Code</td>
                        <td>Vote Name</td>
                        <td style="text-align: center">No of Employees</td>
                        <td style="text-align: center">Total Amount</td>
                    </tr>

                    category = item.MAIN_VOTE;
                }

                SUBEMPTOTAL1 += int.Parse(item.EMPLOYEES.ToString());
                GRANDEMPTOTAL1 += int.Parse(item.EMPLOYEES.ToString());
                SUBTOTAL1 += Decimal.Parse(item.AMOUNT.ToString());
                GRANDTOTAL1 += Decimal.Parse(item.AMOUNT.ToString());

                <tr>
                    <td>@i</td>
                    <td>
                        @item.VOTE
                    </td>
                    <td>
                        @item.VOTE_NAME
                    </td>

                    <td style="text-align: right">
                        @String.Format("{0:#,0}", item.EMPLOYEES)

                    </td>
                    <td style="text-align: right">
                        @String.Format("{0:#,0.00}", item.AMOUNT)
                    </td>
                </tr>
            }
            <tr style="background-color:#F5F5F5">
                <td colspan="3">Sub Total</td>
                <td style="text-align: right">@String.Format("{0:#,0}", SUBEMPTOTAL1)</td>
                <td style="text-align: right">@String.Format("{0:#,0.00}", SUBTOTAL1)</td>
            </tr>
        </tbody>

        <tr tr style="background-color:#ddd6d6">
            <td colspan="3">Grand Total</td>
            <td style="text-align: right">@String.Format("{0:#,0}", GRANDEMPTOTAL1)</td>
            <td style="text-align: right">@String.Format("{0:#,0.00}", GRANDTOTAL1)</td>
        </tr>
    </table>
</div>
