@model IEnumerable<IFMIS.Areas.PAYROLLS.Models.eft_exchequer_detail_reg_para_vw>
 
<style type="text/css">
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Gill Sans','lucida grande', helvetica, arial, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        border-spacing: 0;
        margin: 0px;
    }

    td, th {
        border: 1px thin;
        padding: 8px;
    }

    .alinearDerecha {
        text-align: right;
    }

    .negrita {
        font-weight: bold;
    }

    thead {
        display: table-row-group;
    }

    tr {
        page-break-inside: avoid;
    }
</style>



<div class="panel panel-default">

    <div class="panel-heading font-family:'Gill Sans','lucida grande', helvetica, arial, sans-serif;" style="text-align: center; padding-top:1px; padding-bottom:1px;margin-top:auto">
        <div class="" style="text-align: center ">
            <img src="@Server.MapPath("~/Media/Images/log.png")" />
        </div>

        <div class="panel-title">MINISTRY OF FINANCE AND PLANNING</div>
        <div class="panel-title">EXCHEQUER DETAILS REPORT - COUNCIL SUBVENSIONS</div>
        <div class="panel-title"> @ViewBag.Currentmonth</div>
    </div>



    <br />
    <table class="display">

        <tbody>

            @{
                int h = 0;
                string Actions2 = "-1";
                int SubTotalNumEmployee2 = 0;
                int GrandTotalNumEmployee2 = 0;
                decimal SubTotalAmount2 = 0;
                decimal GrandTotalAmount2 = 0;
            }
            @foreach (var item in Model)
            {
                h++;

                if (Actions2 != item.Region) //Starting a new vote
                {

                    if (Actions2 != "-1") //Changing votes. Display CouncilSubTotal
                    {
                        <tr>
                            <td></td>
                            <td></td>
                            <td>Sub Total</td>
                            <td style="text-align:right;">@String.Format("{0:N0}", SubTotalNumEmployee2)</td>
                            <td style="text-align:right;">@String.Format("{0:#,0.00}", SubTotalAmount2)</td>

                        </tr>
                        SubTotalNumEmployee2 = 0;
                        SubTotalAmount2 = 0;
                        h = 1;
                    }

                    <tr style="background-color:#F5F5F5">
                        <td colspan="5" style="text-align:left;">@item.Region</td>
                    </tr>
                    <tr>
                        <td>#</td>
                        <td>Vote</td>
                        <td>Vote Name</td>
                        <td style="text-align:right;">No.Employee </td>
                        <td style="text-align:right;">Total Amount</td>
                    </tr>
                    Actions2 = item.Region;
                }
                SubTotalNumEmployee2 += int.Parse(item.GovNumEmp.ToString());
                GrandTotalNumEmployee2 += int.Parse(item.GovNumEmp.ToString());
                SubTotalAmount2 += decimal.Parse(item.GovWagebillAmount.ToString());
                GrandTotalAmount2 += decimal.Parse(item.GovWagebillAmount.ToString());


                <tr>
                    <td>@h</td>
                    <td>
                        @item.VoteCode
                    </td>
                    <td>
                        @item.VoteName
                    </td>
                    <td style="text-align:right;">
                        @String.Format("{0:N0}", item.GovNumEmp)
                    </td>
                    <td style="text-align:right;">
                        @String.Format("{0:#,0.00}", item.GovWagebillAmount)
                    </td>
                </tr>
            }
            <tr>
                <td></td>
                <td></td>
                <td>Sub Total</td>
                <td style="text-align:right;">@String.Format("{0:N0}", SubTotalNumEmployee2)</td>
                <td style="text-align:right;">@String.Format("{0:#,0.00}", SubTotalAmount2)</td>

            </tr>
        </tbody>

        <tr style="background-color:#ddd6d6">
            <td></td>
            <td></td>
            <td>Grand Total</td>
            <td style="text-align:right;"><b>@String.Format("{0:N0}", GrandTotalNumEmployee2)</b></td>
            <td style="text-align:right;"><b>@String.Format("{0:#,0.00}", GrandTotalAmount2)</b></td>
        </tr>

    </table>

</div>
