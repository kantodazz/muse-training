@model IFMIS.Areas.IFMISTZ.Models.SubContractVM
@{
    var i = 0;
}
<fieldset class="scheduler-border">
    <legend class="scheduler-border">Main Contract detail </legend>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Contract Number&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.ContractNumber)</div><div class="col-sm-6 col-md-6 col-lg-6"><strong>Contract Reg #&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.ContractNo)</div></div>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Contract Name&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.ContractName)</div><div class="col-sm-6 col-md-6 col-lg-6"><strong>Main Contractor&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.MainPayeeName)</div></div>

    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Main Contract Amount&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.ContractAmount) @Html.DisplayFor(model => model.Currency)</div></div>

</fieldset>
<fieldset class="scheduler-border">
    <legend class="scheduler-border">Sub Contract detail </legend>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Sub Contractor &nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.PayeeName)</div><div class="col-sm-6 col-md-6 col-lg-6"><strong>Payee Code &nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.PayeeCode)</div></div>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Payee Address&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.PayeeAddress)</div><div class="col-sm-6 col-md-6 col-lg-6"><strong>Bank Account&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.PayeeBankAccount)</div></div>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Description&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.SubContractDesc)</div><div class="col-sm-6 col-md-6 col-lg-6"><strong>Account Name&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.PayeeAccountName)</div></div>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Sub Contract Amount&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.SubContractAmount) @Html.DisplayFor(model => model.Currency)</div><div class="col-sm-6 col-md-6 col-lg-6"><strong>Sub Contract Number&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.SubContractNo) </div></div>
    <div class="row"> <div class="col-sm-6 col-md-6 col-lg-6"><strong>Overall Status&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.OverallStatus) </div> </div>
    <div class="row">
        @if (Model.RejectionReason != null)
        {
            <div class="col-sm-6 col-md-6 col-lg-6">
                <strong>Rejection Reason&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.RejectionReason)
            </div>
        }

       @if (Model.RejectionSolution != null)
       {
        <div class="col-sm-6 col-md-6 col-lg-6">
            <strong>Solution Taken&nbsp;:</strong>&nbsp;@Html.DisplayFor(model => model.RejectionSolution)
            </div>
       }
            </div>

    </fieldset>

<fieldset class="scheduler-border">
    <legend class="scheduler-border">Payment schedules to Sub Contract</legend>
     @if (Model.Payments.Count() >0)
    {
        <table class="table  table-bordered table-hover table-condensed" align="center" style="width:99%;">

            <thead><tr><th style="text-align: center">#</th><th style="text-align: left">Payment Schedule </th><th style="text-align: left">Deliverable</th><th style="text-align: right"> Amount</th></tr></thead>'
            <tbody>
                @foreach (var item in Model.Payments)
                {

                    i++;
                    <tr>
                        <td style="text-align: center">@i</td>
                        <td>@item.Description</td>
                        <td>@item.Deliverable</td>
                        <td style="text-align: right">@item.Amount.ToString("#,##0/=") </td>

                    </tr>

                }
                <tr>
                    <td align="right" colspan="3">Grand Total</td>
                    <td align="right"><strong>@Model.Payments.Select(a => a.Amount).DefaultIfEmpty(0).Sum().ToString("#,##0/=")</strong></td>
                </tr>
            </tbody>
        </table>
    }
</fieldset>

<div class="modal-footer">
    <button class="btn btn-info btn-flat modal-close" data-dismiss="modal">Close</button>
</div>
