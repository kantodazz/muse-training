@model IEnumerable<IFMIS.Areas.IFMISTZ.Models.PaymentScheduleVM>
@if (Model.Count()>0)
{
    var i = 0;
    <div id="collapse1" class="panel-collapse collapse">
        <table align="center" class="table table-bordered table-hover table-condensed" id="paymentSchedule" style="width:80%">

            <thead>
                <tr>
                    <th style="text-align: center">#</th>

                    <th style="text-align: left">
                        @Html.DisplayNameFor(model => model.Description)
                    </th>
                    <th style="text-align: left">
                        @Html.DisplayNameFor(model => model.Deliverable)
                    </th>
                    <th style="text-align: right">
                        @Html.DisplayNameFor(model => model.Amount)
                    </th>
                    <th style="text-align: center">Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {

                    i++;
                    <tr>
                        <td style="text-align: center">@i</td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                         </td>
                        <td>
                         @Html.DisplayFor(modelItem => item.Deliverable)
                         </td>
                        <td style="text-align: right">
                            @Html.DisplayFor(modelItem => item.Amount)
                         </td>

                        <td style="text-align: center"><div class="btn-group"><button type="button" class="btn  btn-info btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span><span class="sr-only">Toggle Dropdown</span></button> <ul class="dropdown-menu"> <li><a href="#" data-toggle="modal" data-target="#editPaymentModal" data-id='@item.PaymentScheduleId' data-fy='@item.FinancialYearDesc' data-desc='@item.Description' data-amount='@item.Amount' data-deliverable='@item.Deliverable' class="editPayment edit"><i class="fa fa-edit"></i> Edit</a></li><li><a href="#" onclick="removePayment(@item.PaymentScheduleId)"><i class="fa fa-edit"></i> Cancel</a></li></ul></div></td>

                    </tr>

                }
                <tr><td align="right" colspan="3">Grand Total</td><td align="right"><strong>@Model.Select(a => a.Amount).DefaultIfEmpty(0).Sum().ToString("#,##0.00/=")</strong></td></tr>
            </tbody>
        </table>

    </div>
}
