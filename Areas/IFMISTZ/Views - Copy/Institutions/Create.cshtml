@model IFMIS.Areas.IFMISTZ.Models.Institution

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .input {
        border: 1px solid lightgray;
        width: 100%;
        height: 35px;
    }

    .textarea {
        border: 1px solid lightgray;
        width: 100%;
    }

    .input[type="text"]:focus {
        border: 1px solid lightblue;
    }

    .input[type="number"]:focus {
        border: 1px solid lightblue;
    }

    th {
        text-align: center;
    }
</style>
<!-- widget grid -->
<div id="content" style="margin: 5px; padding-top: 5%">

    <section id="widget-grid" class="">
        <div class="row">

            <article class="col-sm-12 col-md-12 col-lg-12">

                <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-togglebutton="false">
                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>

                        <h2 style="color:black;">Create Institution.</h2>

                    </header>
                    <div>
                        <div class="widget-body" style="padding-top:10px; width:100%;">

                            <table style="width:100%;">
                                <tr>
                                    <td colspan="1">

                                        <div class="form-horizontal">
                                            <table style="width:100%;">
                                                <tr>

                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Institution Code:
                                                                <i class="fa fa-times" style="color:white" id="InstitutionCode_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="InstitutionCode" id="InstitutionCode" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                    <td style="width:400px; text-align:left">

                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Upload Logo:
                                                                <i class="fa fa-times" style="color:white" id="logo_1"></i>
                                                            </label>
                                                            <div class="col-md-9">
                                                                <input style="width:300px" id="logo" type="file" name="file" class="btn btn-default">
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Institution Name:
                                                                <i class="fa fa-times" style="color:white" id="InstitutionName_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="InstitutionName" id="InstitutionName" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Zip Code:
                                                                <i class="fa fa-times" style="color:white" id="Zip_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Zip" id="Zip" Class="input" style="width:300px; " required="required" size="4" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">Institution Category:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    @Html.DropDownList("InstitutionCategory", ViewBag.InstitutionCategory as SelectList, "", new { @Class = "input", style = "width:300px", })
                                                                    @Html.ValidationMessageFor(model => model.InstitutionCategory, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">Sector:</label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    @Html.DropDownList("SectorCode", ViewBag.Sector as SelectList, "", new { @Class = "input", style = "width:300px", required = "required" })
                                                                    @Html.ValidationMessageFor(model => model.SectorCode, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Vote Code:
                                                                <i class="fa fa-times" style="color:white" id="VoteCode_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="number" name="VoteCode" id="VoteCode" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                    <td style="width:auto; text-align:left">

                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">Sub Sector:</label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <select name="SubSectorCode" id="SubSectorCode" style="width:300px;" class="input"></select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                </tr>
                                                <tr>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">Institution Level:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    @Html.DropDownList("InstitutionLevel", ViewBag.Institutionlevel as SelectList, "", new { @Class = "input", id = "InstitutionLevel", style = "width:300px", required = "required" })
                                                                    @Html.ValidationMessageFor(model => model.InstitutionLevel, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Address:
                                                                <i class="fa fa-times" style="color:white" id="Address1_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Address1" id="Address1" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>

                                                </tr>
                                                <tr>

                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Level1Code:
                                                                <i class="fa fa-times" style="color:white" id="Level1Code_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level1Code" id="Level1Code" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">Level1 Description:</label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level1Desc" id="Level1Desc" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                </tr>
                                                <tr>

                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">Level2Code:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level2Code" id="Level2Code" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Level2 Description:
                                                                <i class="fa fa-times" style="color:white" id="Level2Desc_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level2Desc" id="Level2Desc" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                </tr>
                                                <tr>

                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">Level3Code:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level3Code" id="Level3Code" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">Level3 Description:</label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level3Desc" id="Level3Desc" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                </tr>
                                                <tr>

                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">Level4Code:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level4Code" id="Level4Code" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">Level4 Description:</label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Level4Desc" id="Level4Desc" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                </tr>
                                                <tr>

                                                    <td style="width:400px; text-align:left">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                City:
                                                                <i class="fa fa-times" style="color:white" id="City_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="City" id="City" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td style="width:400px; text-align:right">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Email Address:
                                                                <i class="fa fa-times" style="color:white" id="Address3_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="email" name="Address3" id="Address3" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>

                                                </tr>

                                                <tr>
                                                    <td style="width:400px; text-align:left">

                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Acc. Officer(Title):
                                                                <i class="fa fa-times" style="color:white" id="AoTitle_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="AoTitle" id="AoTitle" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style="width:400px; text-align:right">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">Country:</label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    @Html.DropDownList("Country", ViewBag.Country as List<SelectListItem>, "", new { @Class = "input", style = "width:300px", autocomplete = "off", })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>


                                                </tr>
                                                <tr>
                                                    <td style="width:400px; text-align:left">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Telephone No:
                                                                <i class="fa fa-times" style="color:white" id="Telephone_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="Telephone" id="Telephone" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                TIN:
                                                                <i class="fa fa-times" style="color:white" id="AoTin_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="AoTin" id="AoTin" Class="input" style="width:300px; " required="required" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td style="width:400px; text-align:left">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                SpCode:
                                                                <i class="fa fa-times" style="color:white" id="SpCode_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="SpCode" id="SpCode" Class="input" style="width:300px; " placeholder="Eg. SP148 Given by GPG" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                    <td>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Sub SpCode:
                                                                <i class="fa fa-times" style="color:white" id="SubSpCode_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="SubSpCode" id="SubSpCode" Class="input" style="width:300px; " placeholder="Eg.1001 Given by GPG" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>

                                           

                                                <tr>
                                                    <td style="width:400px; text-align:left">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">
                                                                Collection Center Code:
                                                                <i class="fa fa-times" style="color:white" id="CollectionCenterCode_1"></i>
                                                            </label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="CollectionCenterCode" id="CollectionCenterCode" Class="input" style="width:300px; " placeholder="Eg. Given by GePG" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                Collection Center Name:
                                                                <i class="fa fa-times" style="color:white" id="CollectionCenterName_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="CollectionCenterName" id="CollectionCenterName" Class="input" style="width:300px; " />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>

                                        

                                                <tr>
                                                    <td>
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">Payment Office:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    @Html.DropDownList("PaymentOfficeId", ViewBag.poffice as SelectList, "", new { @Class = "input", style = "width:300px", autocomplete = "off", required = "required" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" style="text-align:right;">
                                                                SpSystemId:
                                                                <i class="fa fa-times" style="color:white" id="SpSysId_1"></i>
                                                            </label>
                                                            <div class="col-md-9 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <input type="text" name="SpSysId" id="SpSysId" Class="input" style="width:300px; " placeholder="Eg.TMUSE Given by GPG" />
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right">ConsolidationFlag:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    <div class="input-group">
                                                                        @Html.CheckBoxFor(m => m.ConsolidationFlag)
                                                                        @Html.ValidationMessageFor(model => model.ConsolidationFlag, "", new { @class = "text-danger" })
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </td>
                                                @*<td>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label" style="text-align:right">IsST:</label>
                                                    <div class="col-md-8 inputGroupContainer">
                                                        <div class="input-group">
                                                            <div class="input-group">
                                                                @Html.CheckBoxFor(m => m.IsST)
                                                                @Html.ValidationMessageFor(model => model.IsST, "", new { @class = "text-danger" })

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </td>*@
                                                </tr>
                                                <tr>
                                                    <td style="width:400px; text-align:right">
                                                        <div class="form-group">
                                                            <label class="col-md-4 control-label" style="text-align:right;">VoteGroup:</label>
                                                            <div class="col-md-8 inputGroupContainer">
                                                                <div class="input-group">
                                                                    @Html.DropDownList("VoteGroupID", ViewBag.Votegroup as SelectList, "", new { @Class = "input", style = "width:300px", autocomplete = "off", })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                   
                                        <div class="form-actions">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <a href='@Url.Action("InstitutionList", "Institutions")' class="btn btn-info" style="   width:80px;border-radius:1px;color:black">
                                                        <i class="glyphicon glyphicon-arrow-left"></i>
                                                        Back
                                                    </a>

                                                    <button type="submit" class="btn btn-info" onclick="save()" id="form_submision" style="width:80px;">
                                                        <i class="fa fa-save"></i>Save
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        @*}*@
                                    </td>
                                    <td colspan="1"></td>
                                </tr>
                            </table>

                        </div>

                    </div>
                </div>
            </article>
        </div>
    </section>
</div>

@section pagespecific{

    <script>



        if ('@TempData["Success"]' == 'Success') {
            swal("Saved Successfully!", { icon: 'success' })
                 .then(Ok=> {
                     window.location.href = '@Url.Action("InstitutionList", "Institutions")';
                 });
        } else if ('@TempData["Success"]' == 'No') {
            swal("This Institution exists!!", { icon: 'cancel' })
               .then(Ok=> {
                   window.location.href = '@Url.Action("Create", "Institutions")';
               });

        }

        $("#SectorCode").change(function () {
            var code = $(this).val();
            getSubLevelCodes(code);
        });

        $("#InstitutionLevel").change(function () {
            toggleLevelCode();
        });

        function getSubLevelCodes(code) {
            var option = [];
            $.ajax({
                url: '@Url.Action("GetSectorCode", "Institutions")/?code=' + code + '',
                type: "GET",
                dataType: "json",
                success: function (data) {
                    data.forEach(d=> {
                        option.push('<option value=' + d["Value"] + '>' + d["Text"] + '</option>');
                    });
                    option = option.toString().replace(",", "").replace("[", "").replace("]", "");
                    $("#SubSectorCode").html(option);
                }
            })
        }
        function save() {
            if (voucherSummaryFormValidation()) {
                commitForm()
            } else {
                swal("Please fill the whole form !!");
            }
        }

        function commitForm() {
            if (voucherSummaryFormValidation()) {
                var formData = new FormData();
                formData.append('file', $('input[type=file]')[0].files[0]);
                formData.append('InstitutionCode', $("#InstitutionCode").val());
                formData.append('InstitutionName', $("#InstitutionName").val());
                formData.append('InstitutionLevel', $("#InstitutionLevel").val());
                formData.append('InstitutionCategory', $("#InstitutionCategory").val());
                formData.append('VoteCode', $("#VoteCode").val());
                formData.append('Level1Code', $("#Level1Code").val());
                formData.append('Level1Desc', $("#Level1Desc").val());
                formData.append('Level2Code', $("#Level2Code").val());
                formData.append('Level2Desc', $("#Level2Desc").val());
                formData.append('Level3Code', $("#Level3Code").val());
                formData.append('Level3Desc', $("#Level3Desc").val());
                formData.append('Level4Code', $("#Level4Code").val());
                formData.append('Level4Desc', $("#Level4Desc").val());
                formData.append('SectorCode', $("#SectorCode").val());
                formData.append('SectorDesc', $("#SectorDesc").val());
                formData.append('SubSectorCode', $("#SubSectorCode").val());
                formData.append('SubSectorDesc', $("#SubSectorDesc").val());
                formData.append('AoTitle', $("#AoTitle").val());
                formData.append('AoTin', $("#AoTin").val());
                formData.append('City', $("#City").val());
                formData.append('Zip', $("#Zip").val());
                formData.append('Country', $("#Country").val());
                formData.append('Telephone', $("#Telephone").val());
                formData.append('Address1', $("#Address1").val());
                formData.append('Address3', $("#Address3").val());
                formData.append('PaymentOfficeId', $("#PaymentOfficeId").val());
                formData.append('SpCode', $("#SpCode").val());
                formData.append('SubSpCode', $("#SubSpCode").val());
                formData.append('SpSysId', $("#SpSysId").val());
                formData.append('VoteGroupID', $("#VoteGroupID").val());
                formData.append('ConsolidationFlag', $("#ConsolidationFlag").val());
                formData.append('CollectionCenterCode', $("#CollectionCenterCode").val());
                formData.append('CollectionCenterName', $("#CollectionCenterName").val());
                //formData.append('IsST', $("#IsST").val());
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("Create", "Institutions")',
                    data: formData,
                    contentType: false,
                    processData: false,
                    datatype: 'json',
                    success: function (response) {
                        if (response == "Success") {
                            swal("Saved Successfully!", { icon: "success" })
                                .then((value) => {
                                    window.location.href = '@Url.Action("InstitutionList", "Institutions")';
                                });
                        }
                        else {
                            swal(response);
                        }
                    },
                    failure: function (error) {
                        swal(error);
                    }
                });

            }
        }


        $("#Level1Code").on("keyup input paste cut", function () {
            var val = this.value
            if (val.length > 8) {
                $("#Level1Code").val(val.substring(0, 8));
            }
        });
        $("#Level2Code").on("keyup input paste cut", function () {
            var val = this.value
            if (val.length > 5) {
                $("#Level2Code").val(val.substring(0, 5));
            }
        });


        $("#Level3Code").on("keyup input paste cut", function () {
            var val = this.value
            if (val.length > 7) {
                $("#Level2Code").val(val.substring(0, 7));
            }
        });
        $("#Level4Code").on("keyup input paste cut", function () {
            var val = this.value
            if (val.length > 8) {
                $("#Level2Code").val(val.substring(0, 8));
            }
        });
        $("#Telephone").on("keyup input paste cut", function () {
            var val = this.value
            if (val.length > 10) {
                $("#Telephone").val(val.substring(0, 10));
            }
        });

        toggleLevelCode();
        function toggleLevelCode() {

            if ($("#InstitutionLevel").val() == 1) {
                levelcode = $("#InstitutionCode").val();
                $("#Level1Code").prop('disabled', false);
                $("#Level2Code").val("00000");
                $("#Level2Code").prop('disabled', true);
                $("#Level3Code").val("0000000");
                $("#Level3Code").prop('disabled', true);
                $("#Level4Code").val("00000000");
                $("#Level1Desc").prop('disabled', false);
                $("#Level2Desc").prop('disabled', true);
                $("#Level4Code").prop('disabled', true);
                $("#Level3Desc").prop('disabled', true);
                $("#Level4Desc").prop('disabled', true);
                $("#Level2Desc").val("N/A");
                $("#Level3Desc").val("N/A");
                $("#Level4Desc").val("N/A");
            }
            else if ($("#InstitutionLevel").val() == 2) {
                $("#Level2Code").prop('disabled', false);
                $("#Level1Code").prop('disabled', false);
                $("#Level3Code").val("0000000");
                $("#Level3Code").prop('disabled', true);
                $("#Level4Code").val("00000000");
                $("#Level4Code").prop('disabled', true);
                $("#Level3Desc").val("N/A");
                $("#Level4Desc").val("N/A");
                $("#Level2Desc").prop('disabled', false);
                $("#Level1Desc").prop('disabled', false);
                $("#Level3Desc").prop('disabled', true);
                $("#Level4Desc").prop('disabled', true);
                $("#Level2Code").val();
                $("#Level2Desc").val();
            }
            else if ($("#InstitutionLevel").val() == 3) {
                $("#Level2Code").prop('disabled', false);
                $("#Level1Code").prop('disabled', false);
                $("#Level1Code").val();
                $("#Level1Desc").val();
                $("#Level2Code").val();
                $("#Level2Desc").val();
                $("#Level3Code").val();
                $("#Level3Desc").val();
                $("#Level3Code").prop('disabled', false);
                $("#Level3Desc").prop('disabled', false);
                $("#Level4Code").val("00000000");
                $("#Level4Code").prop('disabled', true);
                $("#Level4Desc").val("N/A");
                $("#Level2Desc").prop('disabled', false);
                $("#Level1Desc").prop('disabled', false);
                $("#Level4Desc").prop('disabled', true);


            } else if ($("#InstitutionLevel").val() == 4) {
                $("#Level4Code").prop('disabled', false);
                $("#Level3Code").prop('disabled', false);
                $("#Level2Code").prop('disabled', false);
                $("#Level1Code").prop('disabled', false);
                $("#Level4Desc").prop('disabled', false);
                $("#Level3Desc").prop('disabled', false);
                $("#Level2Desc").prop('disabled', false);
                $("#Level1Desc").prop('disabled', false);
            }

        }
        function voucherSummaryFormValidation() {
            var isNotValid = validateInputsParameters([
                "#InstitutionCode",
                "#InstitutionName",
                "#logo",
                 "#Zip",
                 "#VoteCode",
                 "#Address1",
                 "#City",
                 "#Address3",
                 "#AoTitle",
                  "#Country",
                 "#Telephone",
                 "#AoTin",
                "#VoteGroupID"

            ]);

            if (isNotValid) {
                $(isNotValid + "_1").attr("style", "color: red;");
                return false
            }
            return true
        }

        function validateInputsParameters(parameterList) {
            var resetStyle = function (parameterList) {
                for (var i = 0; i < parameterList.length; i++) {
                    $(parameterList[i] + "_1").attr("style", "color: white;");
                }
            }

            resetStyle(parameterList);
            for (var i = 0; i < parameterList.length; i++) {
                if (!$(parameterList[i]).val().trim()) {
                    return parameterList[i];
                }
            }
            return null;
        }


    </script>
}
