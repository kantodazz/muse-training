@{
    var flashMessage = TempData["FlashMessage"] as string;
    var flashMessagetitle = TempData["FlashMessageTitle"] as string;
}

@if (!string.IsNullOrEmpty(flashMessage) && flashMessage != "Default Message")
{
    <!--<div id="flash-dialog2" class="flash-dialog2">
        <p>@flashMessage</p>
        <button id="close-flash-dialog" style="display: none;">Close</button>-->
        @*<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                Launch static backdrop modal
            </button>*@
    <!--</div>-->

    <!-- Modal center Large -->
    <div class="modal fade" id="default-example-modal-lg-center" tabindex="-1" role="dialog" >
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                     <h4 class="modal-title" style="color: #5bc0de;font-weight:bold"> 
                         <i class="fa fa-exclamation-circle" style="color:red"></i> @flashMessagetitle </h4>
                    <button type="button" class="close" data-dismiss="modal" style="display: none;" id="close-flash-dialog-top" aria-label="Close">
                        <span aria-hidden="true"><i class="fa fa-times"></i></span>
                    </button>
                </div>
                <div class="modal-body" style="background-color: #f1f9fc">
                      <p>@flashMessage</p>
                </div>
                <div class="modal-footer">
                    <button type="button" id="close-flash-dialog" class="btn btn-info" data-dismiss="modal" style="display: none;">Close</button>
                    <p style="font-style:italic;color:lightslategray;float:left;font-weight:bold" id="timerText">You can close this Notification after  <span id="countdown" style="color:red">60</span>  seconds </p>
                </div>
            </div>
        </div>
    </div>





    <style>
        .flash-dialog {
            position: fixed;
            top: 15%;
            left: 20%;
            width: 700px;
            height: 500px;
            background-color: #f8d7da;
            color: #721c24;
            padding: 15px;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            z-index: 1000;
        }


        .modal-body p {
            line-height: 1.7;
            font-family: Helvetica, sans-serif;
        }

        #default-example-modal-lg-center{
            box-shadow:10px 0px 10px 0px red;
        }
        
    </style>

    <script>

        window.onload = function () {
            $("#default-example-modal-lg-center").modal({ backdrop: 'static', keyboard: false })
            $("#default-example-modal-lg-center").modal('show');
            
            setTimeout(() => {
                document.getElementById('close-flash-dialog').style.display = 'block';
            }, 60000);
            setTimeout(() => {
                document.getElementById('close-flash-dialog-top').style.display = 'block';
            }, 60000);


            let seconds = 60;
            const countdownEl = document.getElementById("countdown");
            const timerText = document.getElementById("timerText");

            const interval = setInterval(() => {
                seconds--;
                countdownEl.textContent = seconds;

                if (seconds <= 0) {
                    clearInterval(interval);
                    countdownEl.textContent = "0";
                    timerText.style.display = 'none';
                }
            }, 1000);
        }

    </script>
}
